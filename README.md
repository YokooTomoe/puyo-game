# ぷよぷよゲーム

Pythonとpygameで作成したぷよぷよ風パズルゲームです。

## 特徴

- **クラシックなぷよぷよゲームプレイ** - 4つ以上の同じ色のぷよをつなげて消去
- **美しいパーティクルエフェクト** - 色別の特殊エフェクト（炎、水滴、葉っぱ、星）
- **連鎖システム** - 連鎖数に応じたボーナススコア
- **スコアランキング** - トップ10ランキングとプレイヤー名記録
- **おじゃまぷよシステム** - 時間経過で落下する障害物
- **レベルシステム** - プレイに応じて難易度が上昇

## スクリーンショット

![ゲーム画面](screenshot.png)

## 必要な環境

- Python 3.7以上
- pygame 2.0以上

## インストール方法

1. リポジトリをクローン
```bash
git clone https://github.com/あなたのユーザー名/puyo-game.git
cd puyo-game
```

2. 必要なライブラリをインストール
```bash
pip install -r requirements.txt
```

3. ゲームを実行
```bash
python main.py
```

## 操作方法

### ゲーム中
- **←→**: ぷよを左右に移動
- **↓**: ぷよを高速落下
- **スペース**: ぷよを回転
- **L**: ランキング表示
- **Q**: ゲーム終了

### ランキング画面
- **↑↓**: スクロール
- **Escape/R**: 戻る

### ゲームオーバー時
- **R**: リスタート
- **L**: ランキング表示
- **Q**: ゲーム終了

## ゲームルール

1. 上から落ちてくる2つのぷよを操作して配置
2. 同じ色のぷよが4つ以上つながると消去
3. ぷよが消えると上のぷよが落下し、連鎖が発生する可能性
4. 連鎖数が多いほど高得点
5. ボードの上端までぷよが積み上がるとゲームオーバー

## 特殊機能

### パーティクルエフェクト
- **赤ぷよ**: 炎のような上昇エフェクト
- **青ぷよ**: 水滴のような重いエフェクト
- **緑ぷよ**: 葉っぱのような舞い散りエフェクト
- **黄ぷよ**: 星のような輝きエフェクト
- **5連鎖以上**: 虹色の特別エフェクト

### おじゃまぷよ
- 30秒ごとに灰色のおじゃまぷよが落下
- 隣接する色ぷよが消えると一緒に消去される
- レベルが上がるほど多く落下

## ファイル構成

```
puyo-game/
├── main.py              # メインゲームファイル
├── requirements.txt     # 必要なライブラリ
├── README.md           # このファイル
├── red.png             # 赤ぷよ画像
├── blue.png            # 青ぷよ画像
├── green.png           # 緑ぷよ画像
├── yellow.png          # 黄ぷよ画像
├── ojama.png           # おじゃまぷよ画像
├── highscore.json      # ハイスコア記録（自動生成）
└── ranking.json        # ランキングデータ（自動生成）
```

## 開発について

このゲームは以下の技術を使用して開発されました：
- **Python 3.11**
- **pygame 2.6.1**
- **オブジェクト指向プログラミング**
- **データクラスとタイプヒント**

### 主要なクラス
- `PuyoGame`: メインゲームクラス
- `ScoreEntry`: スコア記録データクラス
- `RankingManager`: ランキング管理クラス
- `PlayerInputDialog`: プレイヤー名入力ダイアログ
- `RankingDisplay`: ランキング表示画面
- `ParticleSystem`: パーティクルエフェクトシステム

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

バグ報告や機能提案は、GitHubのIssuesでお願いします。
プルリクエストも歓迎します！

## 作者

- 開発者: あなたの名前
- 連絡先: あなたのメールアドレス

## 更新履歴

### v1.0.0 (2025-01-22)
- 初回リリース
- 基本的なぷよぷよゲームプレイ
- パーティクルエフェクト
- スコアランキングシステム
- おじゃまぷよシステム